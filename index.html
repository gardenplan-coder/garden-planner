<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#3E2723">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Brandenburg Garden Planner</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <header class="header">
        <div class="header__row-top">
            <div class="header__logo">
                <span class="header__icon">ğŸª´</span>
                <span class="header__title" data-i18n="title">Brandenburg Garden</span>
            </div>
            <div class="lang-selector">
                <button class="lang-btn active" data-lang="en" title="English">EN</button>
                <button class="lang-btn" data-lang="de" title="Deutsch">DE</button>
                <button class="lang-btn" data-lang="ar" title="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">AR</button>
            </div>
        </div>
        <div class="header__row-bottom">
            <button class="header-btn" id="btnSettings" title="Settings">
                <span class="header-btn__icon">âš™ï¸</span>
                <span class="header-btn__label" data-i18n="size">Size</span>
            </button>
            <button class="header-btn" id="btnCustom" title="Custom Marker">
                <span class="header-btn__icon">âœ¨</span>
                <span class="header-btn__label" data-i18n="custom">Custom</span>
            </button>
            <button class="header-btn" id="btnExport" title="Export JPG">
                <span class="header-btn__icon">ğŸ“¸</span>
                <span class="header-btn__label" data-i18n="export">Export</span>
            </button>
            <button class="header-btn header-btn--save" id="btnSave" title="Save">
                <span class="header-btn__icon">ğŸ’¾</span>
                <span class="header-btn__label" data-i18n="save">Save</span>
            </button>
        </div>
    </header>

    <main class="main">
        <!-- Sidebar / Palette -->
        <aside class="sidebar" id="sidebar">
            <h2 class="sidebar__title">
                <span>ğŸ¨</span>
                <span data-i18n="palette">Plant Palette</span>
            </h2>

            <!-- Vegetables Section -->
            <section class="palette-section">
                <h3 class="palette-section__title">
                    <span>ğŸ¥—</span>
                    <span data-i18n="vegetables">Vegetables</span>
                </h3>
                <div class="palette-items">
                    <div class="palette-item palette-item--red" draggable="true" data-type="tomato" data-icon="ğŸ…" data-name="Tomatoes" data-name-de="Tomaten" data-name-ar="Ø·Ù…Ø§Ø·Ù…">
                        <span class="palette-item__icon">ğŸ…</span>
                        <span class="palette-item__label" data-i18n="tomato">Tomato</span>
                    </div>
                    <div class="palette-item palette-item--orange" draggable="true" data-type="pepper" data-icon="ğŸ«‘" data-name="Peppers" data-name-de="Paprika" data-name-ar="ÙÙ„ÙÙ„">
                        <span class="palette-item__icon">ğŸ«‘</span>
                        <span class="palette-item__label" data-i18n="pepper">Pepper</span>
                    </div>
                    <div class="palette-item palette-item--green" draggable="true" data-type="cabbage" data-icon="ğŸ¥¬" data-name="Kale" data-name-de="GrÃ¼nkohl" data-name-ar="ÙƒØ±Ù†Ø¨">
                        <span class="palette-item__icon">ğŸ¥¬</span>
                        <span class="palette-item__label" data-i18n="kale">Kale</span>
                    </div>
                    <div class="palette-item palette-item--orange" draggable="true" data-type="carrot" data-icon="ğŸ¥•" data-name="Carrots" data-name-de="MÃ¶hren" data-name-ar="Ø¬Ø²Ø±">
                        <span class="palette-item__icon">ğŸ¥•</span>
                        <span class="palette-item__label" data-i18n="carrot">Carrot</span>
                    </div>
                    <div class="palette-item palette-item--yellow" draggable="true" data-type="squash" data-icon="ğŸƒ" data-name="Squash" data-name-de="KÃ¼rbis" data-name-ar="Ù‚Ø±Ø¹">
                        <span class="palette-item__icon">ğŸƒ</span>
                        <span class="palette-item__label" data-i18n="squash">Squash</span>
                    </div>
                    <div class="palette-item palette-item--lime" draggable="true" data-type="herbs" data-icon="ğŸŒ¿" data-name="Herbs" data-name-de="KrÃ¤uter" data-name-ar="Ø£Ø¹Ø´Ø§Ø¨">
                        <span class="palette-item__icon">ğŸŒ¿</span>
                        <span class="palette-item__label" data-i18n="herbs">Herbs</span>
                    </div>
                    <div class="palette-item palette-item--tan" draggable="true" data-type="potato" data-icon="ğŸ¥”" data-name="Potatoes" data-name-de="Kartoffeln" data-name-ar="Ø¨Ø·Ø§Ø·Ø§">
                        <span class="palette-item__icon">ğŸ¥”</span>
                        <span class="palette-item__label" data-i18n="potato">Potato</span>
                    </div>
                    <div class="palette-item palette-item--green" draggable="true" data-type="cucumber" data-icon="ğŸ¥’" data-name="Cucumber" data-name-de="Gurke" data-name-ar="Ø®ÙŠØ§Ø±">
                        <span class="palette-item__icon">ğŸ¥’</span>
                        <span class="palette-item__label" data-i18n="cucumber">Cucumber</span>
                    </div>
                    <div class="palette-item palette-item--green" draggable="true" data-type="zucchini" data-icon="ğŸ«›" data-name="Zucchini" data-name-de="Zucchini" data-name-ar="ÙƒÙˆØ³Ø§">
                        <span class="palette-item__icon">ğŸ«›</span>
                        <span class="palette-item__label" data-i18n="zucchini">Zucchini</span>
                    </div>
                    <div class="palette-item palette-item--red" draggable="true" data-type="beetroot" data-icon="ğŸ«’" data-name="Beetroot" data-name-de="Rote Bete" data-name-ar="Ø´Ù…Ù†Ø¯Ø±">
                        <span class="palette-item__icon">ğŸ«’</span>
                        <span class="palette-item__label" data-i18n="beetroot">Beetroot</span>
                    </div>
                    <div class="palette-item palette-item--yellow" draggable="true" data-type="onion" data-icon="ğŸ§…" data-name="Onion" data-name-de="Zwiebel" data-name-ar="Ø¨ØµÙ„">
                        <span class="palette-item__icon">ğŸ§…</span>
                        <span class="palette-item__label" data-i18n="onion">Onion</span>
                    </div>
                    <div class="palette-item palette-item--lime" draggable="true" data-type="garlic" data-icon="ğŸ§„" data-name="Garlic" data-name-de="Knoblauch" data-name-ar="Ø«ÙˆÙ…">
                        <span class="palette-item__icon">ğŸ§„</span>
                        <span class="palette-item__label" data-i18n="garlic">Garlic</span>
                    </div>
                    <div class="palette-item palette-item--lime" draggable="true" data-type="lettuce" data-icon="ğŸ¥—" data-name="Lettuce" data-name-de="Salat" data-name-ar="Ø®Ø³">
                        <span class="palette-item__icon">ğŸ¥—</span>
                        <span class="palette-item__label" data-i18n="lettuce">Lettuce</span>
                    </div>
                    <div class="palette-item palette-item--green" draggable="true" data-type="peas" data-icon="ğŸ«˜" data-name="Peas" data-name-de="Erbsen" data-name-ar="Ø¨Ø§Ø²Ù„Ø§Ø¡">
                        <span class="palette-item__icon">ğŸ«˜</span>
                        <span class="palette-item__label" data-i18n="peas">Peas</span>
                    </div>
                    <div class="palette-item palette-item--green" draggable="true" data-type="beans" data-icon="ğŸŒ±" data-name="Beans" data-name-de="Bohnen" data-name-ar="ÙØ§ØµÙˆÙ„ÙŠØ§">
                        <span class="palette-item__icon">ğŸŒ±</span>
                        <span class="palette-item__label" data-i18n="beans">Beans</span>
                    </div>
                    <div class="palette-item palette-item--yellow" draggable="true" data-type="corn" data-icon="ğŸŒ½" data-name="Corn" data-name-de="Mais" data-name-ar="Ø°Ø±Ø©">
                        <span class="palette-item__icon">ğŸŒ½</span>
                        <span class="palette-item__label" data-i18n="corn">Corn</span>
                    </div>
                    <div class="palette-item palette-item--purple" draggable="true" data-type="radish" data-icon="ğŸŸ£" data-name="Radish" data-name-de="Radieschen" data-name-ar="ÙØ¬Ù„">
                        <span class="palette-item__icon">ğŸŸ£</span>
                        <span class="palette-item__label" data-i18n="radish">Radish</span>
                    </div>
                    <div class="palette-item palette-item--green" draggable="true" data-type="spinach" data-icon="ğŸ¥¦" data-name="Spinach" data-name-de="Spinat" data-name-ar="Ø³Ø¨Ø§Ù†Ø®">
                        <span class="palette-item__icon">ğŸ¥¦</span>
                        <span class="palette-item__label" data-i18n="spinach">Spinach</span>
                    </div>
                    <div class="palette-item palette-item--lime" draggable="true" data-type="kohlrabi" data-icon="ğŸŸ¢" data-name="Kohlrabi" data-name-de="Kohlrabi" data-name-ar="ÙƒØ±Ù†Ø¨ Ø³Ø§Ù‚ÙŠ">
                        <span class="palette-item__icon">ğŸŸ¢</span>
                        <span class="palette-item__label" data-i18n="kohlrabi">Kohlrabi</span>
                    </div>
                    <div class="palette-item palette-item--orange" draggable="true" data-type="rhubarb" data-icon="ğŸŒ¿" data-name="Rhubarb" data-name-de="Rhabarber" data-name-ar="Ø±Ø§ÙˆÙ†Ø¯">
                        <span class="palette-item__icon">ğŸŒ¿</span>
                        <span class="palette-item__label" data-i18n="rhubarb">Rhubarb</span>
                    </div>
                    <div class="palette-item palette-item--green" draggable="true" data-type="leek" data-icon="ğŸ¥¬" data-name="Leek" data-name-de="Lauch" data-name-ar="ÙƒØ±Ø§Ø«">
                        <span class="palette-item__icon">ğŸ¥¬</span>
                        <span class="palette-item__label" data-i18n="leek">Leek</span>
                    </div>
                </div>
            </section>

            <!-- Fruit Trees Section -->
            <section class="palette-section">
                <h3 class="palette-section__title">
                    <span>ğŸ</span>
                    <span data-i18n="fruitTrees">Fruit Trees (RGO 4mÂ²)</span>
                </h3>
                <div class="palette-items">
                    <div class="palette-item palette-item--red" draggable="true" data-type="fruit-tree" data-icon="ğŸ" data-name="Apple (4mÂ²)" data-name-de="Apfel (4mÂ²)" data-name-ar="ØªÙØ§Ø­ (4Ù…Â²)" data-tree-type="halb">
                        <span class="palette-item__icon">ğŸ</span>
                        <span class="palette-item__label" data-i18n="apple">Apple</span>
                    </div>
                    <div class="palette-item palette-item--yellow" draggable="true" data-type="fruit-tree" data-icon="ğŸ" data-name="Pear (4mÂ²)" data-name-de="Birne (4mÂ²)" data-name-ar="ÙƒÙ…Ø«Ø±Ù‰ (4Ù…Â²)" data-tree-type="halb">
                        <span class="palette-item__icon">ğŸ</span>
                        <span class="palette-item__label" data-i18n="pear">Pear</span>
                    </div>
                    <div class="palette-item palette-item--red" draggable="true" data-type="fruit-tree" data-icon="ğŸ’" data-name="Cherry (4mÂ²)" data-name-de="Kirsche (4mÂ²)" data-name-ar="ÙƒØ±Ø² (4Ù…Â²)" data-tree-type="halb">
                        <span class="palette-item__icon">ğŸ’</span>
                        <span class="palette-item__label" data-i18n="cherry">Cherry</span>
                    </div>
                    <div class="palette-item palette-item--purple" draggable="true" data-type="fruit-tree" data-icon="ğŸ‘" data-name="Plum (4mÂ²)" data-name-de="Pflaume (4mÂ²)" data-name-ar="Ø¨Ø±Ù‚ÙˆÙ‚ (4Ù…Â²)" data-tree-type="halb">
                        <span class="palette-item__icon">ğŸ‘</span>
                        <span class="palette-item__label" data-i18n="plum">Plum</span>
                    </div>
                    <div class="palette-item palette-item--orange" draggable="true" data-type="fruit-tree" data-icon="ğŸŠ" data-name="Apricot (4mÂ²)" data-name-de="Aprikose (4mÂ²)" data-name-ar="Ù…Ø´Ù…Ø´ (4Ù…Â²)" data-tree-type="halb">
                        <span class="palette-item__icon">ğŸŠ</span>
                        <span class="palette-item__label" data-i18n="apricot">Apricot</span>
                    </div>
                    <div class="palette-item palette-item--red" draggable="true" data-type="fruit-tree" data-icon="ğŸ«" data-name="Sour Cherry (4mÂ²)" data-name-de="Sauerkirsche (4mÂ²)" data-name-ar="ÙƒØ±Ø² Ø­Ø§Ù…Ø¶ (4Ù…Â²)" data-tree-type="halb">
                        <span class="palette-item__icon">ğŸ«</span>
                        <span class="palette-item__label" data-i18n="sourCherry">S.Cherry</span>
                    </div>
                    <div class="palette-item palette-item--yellow" draggable="true" data-type="fruit-tree" data-icon="ğŸ‹" data-name="Quince (4mÂ²)" data-name-de="Quitte (4mÂ²)" data-name-ar="Ø³ÙØ±Ø¬Ù„ (4Ù…Â²)" data-tree-type="halb">
                        <span class="palette-item__icon">ğŸ‹</span>
                        <span class="palette-item__label" data-i18n="quince">Quince</span>
                    </div>
                    <div class="palette-item palette-item--purple" draggable="true" data-type="fruit-tree" data-icon="ğŸ‡" data-name="Mirabelle (4mÂ²)" data-name-de="Mirabelle (4mÂ²)" data-name-ar="Ù…Ø´Ù…Ø´ Ø£ØµÙØ± (4Ù…Â²)" data-tree-type="halb">
                        <span class="palette-item__icon">ğŸ‡</span>
                        <span class="palette-item__label" data-i18n="mirabelle">Mirabelle</span>
                    </div>
                </div>
            </section>

            <!-- Berry Bushes Section -->
            <section class="palette-section">
                <h3 class="palette-section__title">
                    <span>ğŸ“</span>
                    <span data-i18n="berries">Berry Bushes (1.5mÂ²)</span>
                </h3>
                <div class="palette-items">
                    <div class="palette-item palette-item--pink" draggable="true" data-type="berry" data-icon="ğŸ“" data-name="Strawberry" data-name-de="Erdbeere" data-name-ar="ÙØ±Ø§ÙˆÙ„Ø©">
                        <span class="palette-item__icon">ğŸ“</span>
                        <span class="palette-item__label" data-i18n="strawberry">Strawberry</span>
                    </div>
                    <div class="palette-item palette-item--red" draggable="true" data-type="berry" data-icon="ğŸ«" data-name="Raspberry" data-name-de="Himbeere" data-name-ar="ØªÙˆØª">
                        <span class="palette-item__icon">ğŸ«</span>
                        <span class="palette-item__label" data-i18n="raspberry">Raspberry</span>
                    </div>
                    <div class="palette-item palette-item--purple" draggable="true" data-type="berry" data-icon="ğŸ‡" data-name="Currant" data-name-de="Johannisbeere" data-name-ar="ÙƒØ´Ù…Ø´">
                        <span class="palette-item__icon">ğŸ‡</span>
                        <span class="palette-item__label" data-i18n="currant">Currant</span>
                    </div>
                    <div class="palette-item palette-item--green" draggable="true" data-type="berry" data-icon="ğŸ¥" data-name="Gooseberry" data-name-de="Stachelbeere" data-name-ar="Ø¹Ù†Ø¨ Ø§Ù„Ø«Ø¹Ù„Ø¨">
                        <span class="palette-item__icon">ğŸ¥</span>
                        <span class="palette-item__label" data-i18n="gooseberry">Gooseberry</span>
                    </div>
                </div>
            </section>

            <!-- Decorative Section -->
            <section class="palette-section">
                <h3 class="palette-section__title">
                    <span>ğŸŒ³</span>
                    <span data-i18n="decorative">Decorative (NO credit!)</span>
                </h3>
                <div class="palette-items">
                    <div class="palette-item palette-item--gray" draggable="true" data-type="deco-tree" data-icon="ğŸŒ³" data-name="Deciduous Tree" data-name-de="Laubbaum" data-name-ar="Ø´Ø¬Ø±Ø© Ù†ÙØ¶ÙŠØ©">
                        <span class="palette-item__icon">ğŸŒ³</span>
                        <span class="palette-item__label" data-i18n="tree">Tree 0mÂ²</span>
                    </div>
                    <div class="palette-item palette-item--gray" draggable="true" data-type="deco-tree" data-icon="ğŸŒ²" data-name="Conifer âš ï¸REMOVE" data-name-de="Nadelbaum âš ï¸ENTFERNEN" data-name-ar="ØµÙ†ÙˆØ¨Ø± âš ï¸Ø¥Ø²Ø§Ù„Ø©">
                        <span class="palette-item__icon">ğŸŒ²</span>
                        <span class="palette-item__label">Coniferâš ï¸</span>
                    </div>
                    <div class="palette-item palette-item--lime" draggable="true" data-type="deco-tree" data-icon="ğŸ‹" data-name="Decorative" data-name-de="ZiergehÃ¶lz" data-name-ar="Ø²ÙŠÙ†Ø©">
                        <span class="palette-item__icon">ğŸ‹</span>
                        <span class="palette-item__label" data-i18n="deco">Deco 0mÂ²</span>
                    </div>
                    <div class="palette-item palette-item--darkbrown" draggable="true" data-type="big-tree" data-icon="ğŸŒ´" data-name="Big Old Tree" data-name-de="GroÃŸer Altbaum" data-name-ar="Ø´Ø¬Ø±Ø© ÙƒØ¨ÙŠØ±Ø© Ù‚Ø¯ÙŠÙ…Ø©">
                        <span class="palette-item__icon">ğŸŒ´</span>
                        <span class="palette-item__label" data-i18n="bigTree">Big Tree</span>
                    </div>
                </div>
            </section>

            <!-- Structures Section -->
            <section class="palette-section">
                <h3 class="palette-section__title">
                    <span>ğŸ¡</span>
                    <span data-i18n="structures">Structures</span>
                </h3>
                <div class="palette-items">
                    <div class="palette-item palette-item--gray" draggable="true" data-type="house" data-icon="ğŸ " data-name="House" data-name-de="Laube" data-name-ar="Ø¨ÙŠØª">
                        <span class="palette-item__icon">ğŸ </span>
                        <span class="palette-item__label" data-i18n="house">House</span>
                    </div>
                    <div class="palette-item palette-item--brown" draggable="true" data-type="shed" data-icon="ğŸšï¸" data-name="Shed" data-name-de="Schuppen" data-name-ar="ÙƒÙˆØ®">
                        <span class="palette-item__icon">ğŸšï¸</span>
                        <span class="palette-item__label" data-i18n="shed">Shed</span>
                    </div>
                    <div class="palette-item palette-item--brown" draggable="true" data-type="compost" data-icon="ğŸª£" data-name="Compost" data-name-de="Kompost" data-name-ar="Ø³Ù…Ø§Ø¯">
                        <span class="palette-item__icon">ğŸª£</span>
                        <span class="palette-item__label" data-i18n="compost">Compost</span>
                    </div>
                    <div class="palette-item palette-item--tan" draggable="true" data-type="path" data-icon="ğŸ›¤ï¸" data-name="Path" data-name-de="Weg" data-name-ar="Ù…Ù…Ø±">
                        <span class="palette-item__icon">ğŸ›¤ï¸</span>
                        <span class="palette-item__label" data-i18n="path">Path</span>
                    </div>
                </div>
            </section>

            <!-- Land & Water Section -->
            <section class="palette-section">
                <h3 class="palette-section__title">
                    <span>ğŸŒŠ</span>
                    <span data-i18n="landWater">Land & Water</span>
                </h3>
                <div class="palette-items">
                    <div class="palette-item palette-item--lime" draggable="true" data-type="grass" data-icon="ğŸŒ¿" data-name="Grass" data-name-de="Rasen" data-name-ar="Ø¹Ø´Ø¨">
                        <span class="palette-item__icon">ğŸŒ¿</span>
                        <span class="palette-item__label" data-i18n="grass">Grass</span>
                    </div>
                    <div class="palette-item palette-item--blue" draggable="true" data-type="pond" data-icon="ğŸ¸" data-name="Pond" data-name-de="Teich" data-name-ar="Ø¨Ø±ÙƒØ©">
                        <span class="palette-item__icon">ğŸ¸</span>
                        <span class="palette-item__label" data-i18n="pond">Pond</span>
                    </div>
                    <div class="palette-item palette-item--blue" draggable="true" data-type="water" data-icon="ğŸš¿" data-name="Water Tap" data-name-de="Wasserhahn" data-name-ar="ØµÙ†Ø¨ÙˆØ±">
                        <span class="palette-item__icon">ğŸš¿</span>
                        <span class="palette-item__label" data-i18n="water">Water</span>
                    </div>
                    <div class="palette-item palette-item--brown" draggable="true" data-type="nettle" data-icon="ğŸŒ¾" data-name="Nettles" data-name-de="Brennnesseln" data-name-ar="Ù‚Ø±Ø§Øµ">
                        <span class="palette-item__icon">ğŸŒ¾</span>
                        <span class="palette-item__label" data-i18n="nettle">Nettle</span>
                    </div>
                    <div class="palette-item palette-item--lime" draggable="true" data-type="weeds" data-icon="â˜˜ï¸" data-name="Weeds" data-name-de="Unkraut" data-name-ar="Ø£Ø¹Ø´Ø§Ø¨ Ø¶Ø§Ø±Ø©">
                        <span class="palette-item__icon">â˜˜ï¸</span>
                        <span class="palette-item__label" data-i18n="weeds">Weeds</span>
                    </div>
                    <div class="palette-item palette-item--yellow" draggable="true" data-type="entrance" data-icon="ğŸšª" data-name="Entrance" data-name-de="Eingang" data-name-ar="Ù…Ø¯Ø®Ù„">
                        <span class="palette-item__icon">ğŸšª</span>
                        <span class="palette-item__label" data-i18n="entrance">Entry</span>
                    </div>
                </div>
            </section>

            <!-- Custom Section -->
            <section class="palette-section">
                <h3 class="palette-section__title">
                    <span>â­</span>
                    <span data-i18n="customSection">Custom</span>
                </h3>
                <div class="palette-items" id="customPalette"></div>
                <button class="btn btn--warning btn--full" id="btnCreateCustom">
                    <span>âœ¨</span>
                    <span data-i18n="create">Create</span>
                </button>
            </section>

            <!-- Stats Panel -->
            <section class="stats-panel">
                <h3 class="stats-panel__title">
                    <span>ğŸ“Š</span>
                    <span data-i18n="rgoRule">RGO 1/3 Rule</span>
                </h3>
                <div class="stats-panel__content">
                    <div class="stat-row">
                        <span data-i18n="gardenTotal">Garden Total:</span>
                        <span class="stat-value" id="gardenTotal">625 mÂ²</span>
                    </div>
                    <div class="stat-row">
                        <span data-i18n="required">Required (â…“):</span>
                        <span class="stat-value" id="gardenRequired">208 mÂ²</span>
                    </div>
                    <hr class="stat-divider">
                    <div class="stat-row">
                        <span>ğŸ <span data-i18n="fruitTreesLabel">Fruit Trees:</span></span>
                        <span class="stat-value" id="fruitTreeArea">0 mÂ²</span>
                    </div>
                    <div class="stat-row stat-row--sub">
                        <span>â”” <span data-i18n="maxCap">Max 35% cap:</span></span>
                        <span id="treeMax">73 mÂ²</span>
                    </div>
                    <div class="stat-row">
                        <span>ğŸ“ <span data-i18n="berryLabel">Berry Bushes:</span></span>
                        <span class="stat-value" id="berryArea">0 mÂ²</span>
                    </div>
                    <div class="stat-row">
                        <span>ğŸ¥¬ <span data-i18n="vegLabel">Vegetables:</span></span>
                        <span class="stat-value" id="vegArea">0 mÂ²</span>
                    </div>
                    <hr class="stat-divider stat-divider--strong">
                    <div class="stat-row stat-row--total">
                        <span>âœ… <span data-i18n="totalCredit">Total Credit:</span></span>
                        <span class="stat-value" id="totalCredit">0 mÂ²</span>
                    </div>
                    <div class="compliance-bar">
                        <div class="compliance-bar__header">
                            <span data-i18n="progress">Progress</span>
                            <span class="compliance-bar__percent" id="compliancePercent">0%</span>
                        </div>
                        <div class="compliance-bar__track">
                            <div class="compliance-bar__fill" id="complianceFill"></div>
                            <div class="compliance-bar__target"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Aerial Controls -->
            <section class="aerial-controls">
                <h3 class="aerial-controls__title">
                    <span>ğŸ“¸</span>
                    <span data-i18n="aerialOverlay">Aerial Overlay</span>
                </h3>
                <input type="file" id="aerialInput" accept="image/*" hidden>
                <div class="aerial-preview" id="aerialPreview" data-i18n="noPhoto">No photo loaded</div>
                <div class="form-group">
                    <label class="form-label">
                        <span data-i18n="opacity">Opacity:</span>
                        <span id="opacityValue">50%</span>
                    </label>
                    <input type="range" class="form-range" id="aerialOpacity" min="0" max="100" value="50">
                </div>
                <div class="aerial-controls__actions">
                    <button class="btn btn--aerial" id="btnLoadPhoto">
                        <span>ğŸ“·</span>
                        <span data-i18n="loadPhoto">Load</span>
                    </button>
                    <button class="btn btn--secondary" id="btnClearPhoto">
                        <span>ğŸ—‘ï¸</span>
                        <span data-i18n="clear">Clear</span>
                    </button>
                </div>
            </section>
        </aside>

        <!-- Canvas Area -->
        <section class="canvas-area">
            <div class="toolbar">
                <span class="toolbar__dimensions">
                    <strong id="gardenDimensions">25m Ã— 25m</strong>
                </span>
                <button class="tool-btn" id="toolDuplicate" title="Duplicate"><span class="tool-btn__icon">ğŸ“‹</span><span class="tool-btn__label" data-i18n="duplicate">Copy</span></button>
                <button class="tool-btn" id="toolDelete" title="Delete"><span class="tool-btn__icon">ğŸ—‘ï¸</span><span class="tool-btn__label" data-i18n="delete">Delete</span></button>
                <button class="tool-btn" id="toolFront" title="Bring to Front"><span class="tool-btn__icon">â¬†ï¸</span><span class="tool-btn__label" data-i18n="bringUp">Up</span></button>
                <button class="tool-btn" id="toolBack" title="Send to Back"><span class="tool-btn__icon">â¬‡ï¸</span><span class="tool-btn__label" data-i18n="sendDown">Down</span></button>
                <div class="toolbar__right">
                    <div class="zoom-controls">
                        <button class="tool-btn" id="zoomOut">âˆ’</button>
                        <span class="zoom-controls__level" id="zoomLevel">100%</span>
                        <button class="tool-btn" id="zoomIn">+</button>
                    </div>
                    <label class="toolbar__grid-toggle">
                        <input type="checkbox" id="gridToggle" checked>
                        <span data-i18n="grid">Grid</span>
                    </label>
                </div>
            </div>

            <div class="garden-wrapper" id="gardenWrapper">
                <div class="garden-wrapper-inner" id="gardenWrapperInner">
                    <div class="garden-grid show-grid" id="gardenGrid">
                        <div class="aerial-overlay" id="aerialOverlay"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Editor Panel -->
        <aside class="editor-panel" id="editorPanel">
            <h2 class="editor-panel__title">
                <span>âœï¸</span>
                <span data-i18n="editZone">Edit Zone</span>
            </h2>
            <div class="form-group">
                <label class="form-label" data-i18n="icon">Icon</label>
                <div class="icon-preview" id="zoneIconPreview">ğŸŒ±</div>
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="name">Name</label>
                <input type="text" class="form-input" id="zoneName">
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="positionCells">Position (cells)</label>
                <div class="form-row">
                    <input type="number" class="form-input" id="zoneX" min="0">
                    <input type="number" class="form-input" id="zoneY" min="0">
                </div>
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="sizeCells">Size (cells)</label>
                <div class="form-row">
                    <input type="number" class="form-input" id="zoneWidth" min="1">
                    <input type="number" class="form-input" id="zoneHeight" min="1">
                </div>
            </div>
            <div class="form-group" id="treeTypeGroup" hidden>
                <label class="form-label" data-i18n="treeType">Tree Type (RGO)</label>
                <select class="form-select" id="zoneTreeType">
                    <option value="hoch">Hochstamm (8 mÂ²)</option>
                    <option value="halb">Halbstamm (4 mÂ²)</option>
                    <option value="nieder">Niederstamm (1.5 mÂ²)</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="notes">Notes</label>
                <textarea class="form-textarea" id="zoneNotes" rows="2"></textarea>
            </div>
            <div class="editor-panel__actions">
                <button class="btn btn--primary" id="btnUpdateZone">
                    <span>âœ…</span>
                    <span data-i18n="update">Update</span>
                </button>
                <button class="btn btn--danger" id="btnDeleteZone">
                    <span>ğŸ—‘ï¸</span>
                    <span data-i18n="delete">Delete</span>
                </button>
            </div>
        </aside>
    </main>

    <!-- Sidebar Toggle (Mobile) -->
    <button class="sidebar-toggle" id="sidebarToggle"><span>ğŸŒ¿</span><span class="sidebar-toggle__label" data-i18n="addPlant">Add Plant</span></button>

    <!-- Context Menu -->
    <div class="context-menu" id="contextMenu">
        <button class="context-menu__item" id="ctxEdit">
            <span>âœï¸</span>
            <span data-i18n="edit">Edit</span>
        </button>
        <button class="context-menu__item" id="ctxDuplicate">
            <span>ğŸ“‹</span>
            <span data-i18n="duplicate">Duplicate</span>
        </button>
        <button class="context-menu__item context-menu__item--danger" id="ctxDelete">
            <span>ğŸ—‘ï¸</span>
            <span data-i18n="delete">Delete</span>
        </button>
    </div>

    <!-- Floating Zone Actions (Mobile) -->
    <div class="zone-actions-float" id="zoneActionsFloat">
        <button class="btn btn--primary" id="floatEdit">âœï¸ <span data-i18n="edit">Edit</span></button>
        <button class="btn btn--secondary" id="floatDuplicate">ğŸ“‹ <span data-i18n="duplicate">Copy</span></button>
        <button class="btn btn--danger" id="floatDelete">ğŸ—‘ï¸ <span data-i18n="delete">Delete</span></button>
        <button class="btn btn--secondary" id="floatCancel">âœ•</button>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- Icon Picker Modal -->
    <div class="modal-overlay" id="iconModal">
        <div class="modal">
            <h2 class="modal__title">
                <span>ğŸ¨</span>
                <span data-i18n="pickIcon">Pick Icon</span>
            </h2>
            <div class="icon-grid" id="iconGrid"></div>
            <div class="modal__actions">
                <button class="btn btn--secondary" id="btnCancelIcon">
                    <span data-i18n="cancel">Cancel</span>
                </button>
                <button class="btn btn--primary" id="btnSelectIcon">
                    <span>âœ…</span>
                    <span data-i18n="select">Select</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Custom Marker Modal -->
    <div class="modal-overlay" id="customModal">
        <div class="modal">
            <h2 class="modal__title">
                <span>âœ¨</span>
                <span data-i18n="customMarker">Custom Marker</span>
            </h2>
            <div class="form-group">
                <label class="form-label" data-i18n="name">Name</label>
                <input type="text" class="form-input" id="customName" placeholder="e.g., Raspberry">
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="icon">Icon</label>
                <div class="icon-preview" id="customIconPreview">â­</div>
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="color">Color</label>
                <div class="color-picker" id="colorPicker"></div>
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="category">Category (1/3 Rule)</label>
                <select class="form-select" id="customCategory">
                    <option value="structure" data-i18n="catStructure">ğŸ  Structure (0 credit)</option>
                    <option value="vegetable" data-i18n="catVegetable">ğŸ¥¬ Vegetable (area)</option>
                    <option value="berry" data-i18n="catBerry">ğŸ“ Berry (1.5 mÂ²)</option>
                    <option value="fruit-tree" data-i18n="catFruitTree">ğŸ Fruit Tree (4 mÂ²)</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="sizeCells">Size (cells)</label>
                <div class="form-row">
                    <input type="number" class="form-input" id="customWidth" value="2" min="1">
                    <input type="number" class="form-input" id="customHeight" value="2" min="1">
                </div>
            </div>
            <div class="modal__actions">
                <button class="btn btn--secondary" id="btnCancelCustom">
                    <span data-i18n="cancel">Cancel</span>
                </button>
                <button class="btn btn--primary" id="btnCreateCustomMarker">
                    <span>âœ¨</span>
                    <span data-i18n="create">Create</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal">
            <h2 class="modal__title">
                <span>âš™ï¸</span>
                <span data-i18n="gardenSettings">Garden Settings</span>
            </h2>
            <div class="form-group">
                <label class="form-label" data-i18n="gardenWidth">Garden Width (meters)</label>
                <input type="number" class="form-input" id="settingsWidth" value="25" min="5" max="100" step="1">
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="gardenHeight">Garden Height (meters)</label>
                <input type="number" class="form-input" id="settingsHeight" value="25" min="5" max="100" step="1">
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="cellSize">Cell Size</label>
                <select class="form-select" id="settingsCellSize">
                    <option value="0.5" data-i18n="cellDetailed">0.5 meters (detailed)</option>
                    <option value="1" data-i18n="cellSimple">1 meter (simple)</option>
                </select>
            </div>
            <p class="modal__warning">
                âš ï¸ <span data-i18n="sizeWarning">Changing size will clear current layout. Export first!</span><br>
                <span data-i18n="current">Current:</span> <span id="currentSizeDisplay">25m Ã— 25m = 625 mÂ²</span>
            </p>
            <div class="modal__actions">
                <button class="btn btn--secondary" id="btnCancelSettings">
                    <span data-i18n="cancel">Cancel</span>
                </button>
                <button class="btn btn--primary" id="btnApplySettings">
                    <span>âœ…</span>
                    <span data-i18n="apply">Apply</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Onboarding Modal -->
    <div class="modal-overlay" id="onboardingModal">
        <div class="modal">
            <h2 class="modal__title">
                <span>ğŸª´</span>
                <span data-i18n="welcome">Welcome to Brandenburg Garden Planner!</span>
            </h2>
            <p class="onboarding__desc" data-i18n="welcomeDesc">Set your garden size to get started. You can change this later in Settings.</p>
            <div class="form-group">
                <label class="form-label" data-i18n="gardenWidth">Garden Width (meters)</label>
                <input type="number" class="form-input" id="onboardWidth" value="25" min="5" max="100" step="1">
            </div>
            <div class="form-group">
                <label class="form-label" data-i18n="gardenHeight">Garden Height (meters)</label>
                <input type="number" class="form-input" id="onboardHeight" value="25" min="5" max="100" step="1">
            </div>
            <div class="modal__actions">
                <button class="btn btn--primary btn--full" id="btnOnboardStart">
                    <span>ğŸŒ±</span>
                    <span data-i18n="start">Start Planning</span>
                </button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
